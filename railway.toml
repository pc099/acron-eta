# Railway deployment config (optional).
# See https://docs.railway.app/reference/config-as-code
[build]
builder = "nixpacks"

[deploy]
# Must run via shell so $PORT is expanded (Railway injects PORT at runtime).
startCommand = "sh -c 'uvicorn src.api.app:create_app --factory --host 0.0.0.0 --port ${PORT:-8000}'"
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3
